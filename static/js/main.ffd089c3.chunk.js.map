{"version":3,"sources":["images/logo.svg","images/success_image.svg","images/unsuccess_image.svg","components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/ImagePopup/ImagePopup.js","components/PopupWithForm/PopupWithForm.js","utils/api.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/Register/Register.js","components/Login/Login.js","components/ProtectedRoute/ProtectedRoute.js","components/InfoTooltip/InfoTooltip.js","utils/auth.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["module","exports","Header","props","className","src","headerLogo","alt","path","to","exact","email","onClick","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","link","name","onCardClick","onCardLike","length","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","key","Footer","ImagePopup","onClose","PopupWithForm","isOpen","title","id","onSubmit","children","buttonText","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","_checkResponse","user","method","body","JSON","stringify","data","place","deleteLike","setLike","res","ok","json","Promise","reject","status","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","event","preventDefault","onUpdateUser","placeholder","minLength","maxLength","autoComplete","required","onChange","target","value","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setPlace","setLink","handleUpdateAddPlace","addNewCard","withRouter","onRegister","authorizationEmail","setAuthorizationEmail","password","setPassword","onLogin","ProtectedRoute","Component","component","loggedIn","InfoTooltip","isSuccess","successImage","unSuccessImage","auth","options","_url","url","token","Authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isLoggedIn","setIsLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","history","useHistory","all","getUserInfo","getInitialCards","initialCards","catch","err","console","log","jwt","localStorage","getItem","checkToken","push","closeByEsc","closeAllPopups","document","addEventListener","removeEventListener","closeByOverlay","classList","contains","Provider","removeItem","changeLikeCardStatus","newCard","state","c","cardId","deleteCard","filter","login","setItem","register","finally","setAvatar","userData","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ffd089c3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.51772f7c.svg\";","module.exports = __webpack_public_path__ + \"static/media/success_image.7fc4c149.svg\";","module.exports = __webpack_public_path__ + \"static/media/unsuccess_image.c32299fa.svg\";","import React from \"react\";\r\nimport headerLogo from \"../../images/logo.svg\";\r\nimport { Route, Switch, Link } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={headerLogo} alt=\"логотип\" />\r\n      <Switch>\r\n        <Route path=\"/sign-in\">\r\n          <Link to=\"sign-up\" className=\"header__link\">\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n        <Route path=\"/sign-up\">\r\n          <Link to=\"sign-in\" className=\"header__link\">\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n        <Route exact path=\"/\">\r\n          <div className=\"header__container\">\r\n            <p className=\"header__email\">{props.email}</p>\r\n            <button className=\"header__button\" onClick={props.onSignOut}>\r\n              Выйти\r\n            </button>\r\n          </div>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  //Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `card__trash ${isOwn ? 'card__trash_visible' : 'card__trash_hidden'}`\r\n  );\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `card__like ${\r\n    isLiked ? \"card__like_active\" : \"\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card._id);\r\n  }\r\n\r\n  \r\n\r\n  return(\r\n    <article className=\"card\">\r\n      <button type=\"button\" className={`${cardDeleteButtonClassName} hover-button`} onClick={handleDeleteClick}></button>\r\n      <div className=\"card__wrapper\">\r\n        <img className=\"card__photo\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n      </div>\r\n      <div className=\"card__description\">\r\n        <h2 className=\"card__title overflow\">{props.card.name}</h2>\r\n        <div className=\"card__like-block\">\r\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <span className=\"card__like-counter\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"../Card/Card\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n \r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile width-container\">\r\n        <div className=\"profile__avatar\" style={{backgroundImage: `url(${currentUser.avatar})`}}></div>\r\n        <button className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title overflow\">{currentUser.name}</h1>\r\n          <button type=\"button\" className=\"profile__button profile__button_edit hover-button\" onClick={props.onEditProfile}></button>\r\n          <p className=\"profile__subtitle overflow\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__button profile__button_add hover-button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"cards-grid width-container\">\r\n        {props.cards.map(card => {\r\n          return(\r\n            <Card \r\n              key={card._id} \r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          )\r\n        })}\r\n      </section>\r\n\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer width-container\">&copy; 2021 Mesto Russia</footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_modal ${props.card.link && 'popup_opened'}`}>\r\n      <figure className=\"popup__figure\">\r\n        <button type=\"button\" className=\"popup__close popup__close_modal hover-button\" onClick={props.onClose}></button>\r\n        <img className=\"popup__photo\" src={props.card.link} alt={props.card.name} />\r\n        <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return(\r\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__content\">\r\n        <button type=\"button\" className={`popup__close popup__close_${props.name} hover-button`} onClick={props.onClose}></button>\r\n        <h3 className=\"popup__title\">{props.title}</h3>\r\n        <form className=\"popup__form\" id={`popup-${props.name}`} name={`${props.name}`} onSubmit={props.onSubmit} >\r\n          {props.children}\r\n          <button type=\"submit\" className={`popup__button popup__button_${props.name}`}>{props.buttonText}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","class Api {\r\n  constructor({baseUrl, headers}) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfo(user) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: user.name,\r\n        about: user.about\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.place,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  deleteCard(data) {\r\n    return fetch(`${this._baseUrl}/cards/${data}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setLike(data) {\r\n    return fetch(`${this._baseUrl}/cards/${data._id}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  deleteLike(data) {\r\n    return fetch(`${this._baseUrl}/cards/${data._id}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n\r\n  changeLikeCardStatus(data, isLiked) {\r\n    if (!isLiked) {\r\n      return this.setLike(data);\r\n    } else {\r\n      return this.deleteLike(data);\r\n    }\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`)\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-32',\r\n  headers: {\r\n    authorization: 'f5a0177a-689d-461c-8da0-42fcda5fb7c6',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;","import React from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleUpdateName(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleUpdateDescription(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return(\r\n    <PopupWithForm \r\n      name={\"edit\"}\r\n      title={\"Редактировать профиль\"}\r\n      isOpen={props.isOpen}\r\n      buttonText={\"Сохранить\"}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        id=\"name\"\r\n        name=\"name\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        autoComplete=\"off\"\r\n        required\r\n        onChange={handleUpdateName}\r\n        value={name || \"\"}\r\n      />\r\n      <span id=\"name-error\" className=\"popup__error\"></span>\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_about\"\r\n        id=\"about\"\r\n        name=\"about\"\r\n        placeholder=\"О себе\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        autoComplete=\"off\"\r\n        required\r\n        onChange={handleUpdateDescription}\r\n        value={description || \"\"}\r\n      />\r\n      <span id=\"about-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n\r\n }\r\n\r\n export default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef({});\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateAvatar({avatar: avatarRef.current.value});\r\n    avatarRef.current.value = \"\";\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name={\"avatar\"} \r\n      title={\"Обновить аватар\"} \r\n      isOpen={props.isOpen} \r\n      buttonText={\"Сохранить\"} \r\n      onClose={props.onClose} \r\n      onSubmit={handleSubmit} \r\n    >\r\n      <input\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_link\"\r\n        id=\"avatar\"\r\n        name=\"avatar\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        autoComplete=\"off\"\r\n        required\r\n        ref={avatarRef}\r\n      />\r\n      <span id=\"avatar-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [place, setPlace] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.addNewCard({place, link});\r\n  }\r\n\r\n  function handleUpdateAddPlace(event) {\r\n    if (event.target.name === \"place\") {\r\n      setPlace(event.target.value);\r\n    } else\r\n    if (event.target.name === \"link\") {\r\n      setLink(event.target.value);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setPlace(\"\");\r\n    setLink(\"\");\r\n  }, [props.isOpen]);\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"add\"}\r\n      title={\"Новое место\"}\r\n      isOpen={props.isOpen}\r\n      buttonText={\"Создать\"}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_place\"\r\n        id=\"place\"\r\n        name=\"place\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        autoComplete=\"off\"\r\n        required\r\n        value={place}\r\n        onChange={handleUpdateAddPlace}\r\n      />\r\n      <span id=\"place-error\" className=\"popup__error\"></span>\r\n      <input\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_link\"\r\n        id=\"link\"\r\n        name=\"link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        autoComplete=\"off\"\r\n        required\r\n        value={link}\r\n        onChange={handleUpdateAddPlace}\r\n      />\r\n      <span id=\"link-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nfunction Register({onRegister}) {\r\n  const [authorizationEmail, setAuthorizationEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setAuthorizationEmail(\"\");\r\n    setPassword(\"\");\r\n  }, []);\r\n\r\n function handleEmailChange(event) {\r\n   setAuthorizationEmail(event.target.value);\r\n }\r\n\r\n function handlePasswordChange(event) {\r\n   setPassword(event.target.value);\r\n }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onRegister(authorizationEmail, password);\r\n }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"login\">\r\n        <form\r\n          className=\"login__form\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <h2 className=\"login__title\">Регистрация</h2>\r\n          <input\r\n            required\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={authorizationEmail || \"\"}\r\n            onChange={handleEmailChange}\r\n            placeholder=\"Email\"\r\n            id=\"email-input\"\r\n            className=\"login__input\"\r\n            minLength=\"6\"\r\n            maxLength=\"40\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <input\r\n            required\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password || \"\"}\r\n            onChange={handlePasswordChange}\r\n            placeholder=\"Password\"\r\n            id=\"password-input\"\r\n            className=\"login__input\"\r\n            minLength=\"8\"\r\n            maxLength=\"200\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <button type=\"submit\" className=\"login__button button\">\r\n            Зарегистрироваться\r\n          </button>\r\n          <Link to=\"/sign-in\" className=\"login__link link\">\r\n            Уже зарегистрированы? Войти\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n\r\nfunction Login({ onLogin }) {\r\n  const [authorizationEmail, setAuthorizationEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  function handleEmailChange(event) {\r\n    setAuthorizationEmail(event.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(event) {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    onLogin(authorizationEmail, password);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__title\">Вход</h2>\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"email\"\r\n          className=\"login__input\"\r\n          placeholder=\"Email\"\r\n          minLength=\"6\"\r\n          maxLength=\"40\"\r\n          required\r\n          autoComplete=\"off\"\r\n          name=\"name\"\r\n          value={authorizationEmail || \"\"}\r\n          onChange={handleEmailChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          className=\"login__input\"\r\n          placeholder=\"Password\"\r\n          minLength=\"8\"\r\n          maxLength=\"200\"\r\n          required\r\n          autoComplete=\"off\"\r\n          name=\"password\"\r\n          value={password || \"\"}\r\n          onChange={handlePasswordChange}\r\n        />\r\n        <button className=\"login__button login__button-enter\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute ({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","import React from \"react\";\r\nimport successImage from \"../../images/success_image.svg\";\r\nimport unSuccessImage from \"../../images/unsuccess_image.svg\";\r\n\r\nfunction InfoTooltip (props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close hover-button\" onClick={props.onClose} />\r\n        <img\r\n          src={props.isSuccess ? successImage : unSuccessImage}\r\n          alt={props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Регистрация не выполнена.'}\r\n          className=\"popup__signup-icon\"\r\n        />\r\n        <h3 className=\"popup__signup-title\">\r\n          {props.isSuccess? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h3>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","class Auth {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  register(email, password) {\r\n    return fetch(`${this._url}/signup`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  login(email, password) {\r\n    return fetch(`${this._url}/signin`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n       email: email,\r\n       password: password,\r\n      }),\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  checkToken(token) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst auth = new Auth({\r\n  url: \"https://auth.nomoreparties.co\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default auth;","import React from \"react\";\r\nimport Header from \"../Header/Header\";\r\nimport Main from \"../Main/Main\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport ImagePopup from \"../ImagePopup/ImagePopup\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport api from \"../../utils/api\";\r\nimport EditProfilePopup from \"../EditProfilePopup/EditProfilePopup\";\r\nimport EditAvatarPopup from \"../EditAvatarPopup/EditAvatarPopup\";\r\nimport AddPlacePopup from \"../AddPlacePopup/AddPlacePopup\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport Register from \"../Register/Register\";\r\nimport Login from \"../Login/Login\";\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\nimport InfoTooltip from \"../InfoTooltip/InfoTooltip\";\r\nimport auth from \"../../utils/auth\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({})\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\r\n  const [authorizationEmail, setAuthorizationEmail] = React.useState('');\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    if (isLoggedIn) {\r\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n        .then(([user, initialCards]) => {\r\n          setCurrentUser(user);\r\n          setCards(initialCards);\r\n        })\r\n        .catch((err) => {\r\n          console.log(`Что-то не так: ${err}`);\r\n        })\r\n    }\r\n  }, [isLoggedIn]);\r\n\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    if (jwt) {\r\n      auth\r\n        .checkToken(jwt)\r\n        .then((res) => {\r\n          setIsLoggedIn(true);\r\n          setAuthorizationEmail(res.data.email);\r\n          history.push(\"/\");\r\n        })\r\n        .catch((err) => console.log(`Что-то не так: ${err}`));\r\n    }\r\n  }, [history]);\r\n\r\n  React.useEffect(() => {\r\n    function closeByEsc(event) {\r\n      if (event.key === \"Escape\") {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n    document.addEventListener(\"keydown\", closeByEsc);\r\n    return () => document.removeEventListener(\"keydown\", closeByEsc);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    function closeByOverlay(event) {\r\n      if (event.target.classList.contains(\"popup_opened\")) {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n    document.addEventListener(\"click\", closeByOverlay);\r\n    return () => {\r\n      document.removeEventListener(\"click\", closeByOverlay);\r\n    };\r\n  }, []);\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api\r\n    .changeLikeCardStatus(card, isLiked)\r\n    .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Что-то не так: ${err}`)\r\n    })\r\n  }\r\n\r\n  function handleCardDelete(cardId) {\r\n    api\r\n      .deleteCard(cardId)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== cardId));\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Что-то не так: ${err}`)\r\n      })\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setUserInfo(data)\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n     })\r\n     .catch((err) => {\r\n      console.log(`Что-то не так: ${err}`)\r\n    })\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .setAvatar(data)\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Что-то не так: ${err}`)\r\n      });\r\n  }\r\n  \r\n  function handleAddPlaceSubmit(data) {\r\n    api\r\n      .addCard(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Что-то не так: ${err}`)\r\n      });\r\n  }\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsConfirmPopupOpen(false);\r\n    setIsInfoTooltipOpen(false);\r\n    setSelectedCard({})\r\n  }\r\n\r\n  function handleRegistration(email, password) {\r\n    auth\r\n      .register(email, password)\r\n      .then((res) => {\r\n        setIsLoggedIn(true);\r\n        history.push(\"/sign-in\");\r\n      })\r\n      .finally(() => {\r\n        setIsInfoTooltipOpen(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Что-то не так: ${err}`);\r\n        setIsLoggedIn(false);\r\n      });\r\n  }\r\n\r\n  function handleLogin(email, password) {\r\n    auth\r\n      .login(email, password)\r\n      .then((res) => {\r\n        localStorage.setItem(\"jwt\", res.token);\r\n        setIsLoggedIn(true);\r\n        setAuthorizationEmail(email);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Что-то не так: ${err}`);\r\n        setIsLoggedIn(true);\r\n        setIsInfoTooltipOpen(true);\r\n        setIsLoggedIn(false);\r\n      });\r\n  }\r\n\r\n  function handleSignOut() {\r\n    localStorage.removeItem(\"jwt\");\r\n    setIsLoggedIn(false);\r\n    setAuthorizationEmail(\"\");\r\n    history.push(\"/sign-in\");\r\n  }\r\n\r\n  return (\r\n  <CurrentUserContext.Provider value={currentUser}>\r\n    <div className=\"page\">\r\n      <Header email={authorizationEmail} onSignOut={handleSignOut} />\r\n      <Switch>\r\n        <ProtectedRoute\r\n          exact path=\"/\"\r\n          component={Main}\r\n          loggedIn={isLoggedIn}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        <Route path=\"/sign-in\">\r\n          <Login onLogin={handleLogin} />\r\n        </Route>\r\n        <Route path=\"/sign-up\">\r\n          <Register onRegister={handleRegistration} />\r\n        </Route>\r\n      </Switch>\r\n      <Footer/>\r\n\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        addNewCard={handleAddPlaceSubmit}\r\n      />\r\n\r\n      <PopupWithForm\r\n        name={\"confirm\"}\r\n        title={\"Вы уверены?\"}\r\n        isOpen={isConfirmPopupOpen}\r\n        buttonText={\"Да\"}\r\n        onClose={closeAllPopups}>\r\n      </PopupWithForm>\r\n\r\n      <ImagePopup\r\n        card={selectedCard}\r\n        onClose={closeAllPopups}\r\n      />\r\n\r\n      <InfoTooltip\r\n        isOpen={isInfoTooltipOpen}\r\n        isSuccess={isLoggedIn}\r\n        onClose={closeAllPopups}\r\n      />\r\n\r\n    </div>\r\n  </CurrentUserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}